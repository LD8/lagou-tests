# 说一下 event loop 的过程？promise 定义时传入的函数什么时候执行？（小米 三面）

## Event-Loop

JavaScrip 是一个单进程的语言，同一时间不能处理多个任务，所以任务的执行顺序便尤为重要。Event-Loop 其实是一个程序的调用机制或者说判断逻辑，它明确执行宏任务和微任务的顺序，依次执行任务。

具体地说，它可以监听调用栈（Call Stack）和消息队列（Queue），发现调用栈中没有任务时而消息队列中还有任务未执行，便会在消息队列中取出第一个调用函数，放到调用栈中。

举个例子：
每办理完一个业务，柜员就会问当前的客户，是否还有其他需要办理的业务。（检查还有没有微任务需要处理）
而客户明确告知说没有事情以后，柜员就去查看后边还有没有等着办理业务的人。（结束本次宏任务、检查还有没有宏任务需要处理）
这个检查的过程是持续进行的，每完成一个任务都会进行一次，这就是 Event Loop 的操作过程。

## Promise 定义时传入的函数什么时候执行
new Promise(fn) 传入的 fn 会被立即调用